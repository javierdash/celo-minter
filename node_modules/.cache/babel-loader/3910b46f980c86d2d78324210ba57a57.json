{"ast":null,"code":"\"use strict\";\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clearPreviousConfig = exports.loadPreviousConfig = void 0;\n\nvar connectors_1 = require(\"../connectors\");\n\nvar constants_1 = require(\"../constants\");\n\nvar localStorage_1 = __importDefault(require(\"./localStorage\"));\n\nvar loadPreviousConfig = function (defaultNetworkProp) {\n  var _a;\n\n  var lastUsedNetworkName = defaultNetworkProp.name;\n  var lastUsedAddress = null;\n  var lastUsedWalletType = constants_1.WalletTypes.Unauthenticated;\n  var lastUsedWalletArguments = [];\n\n  if (typeof localStorage_1.default !== 'undefined') {\n    var localLastUsedNetworkName = localStorage_1.default.getItem(constants_1.localStorageKeys.lastUsedNetwork);\n\n    if (localLastUsedNetworkName) {\n      lastUsedNetworkName = localLastUsedNetworkName;\n    }\n\n    lastUsedAddress = localStorage_1.default.getItem(constants_1.localStorageKeys.lastUsedAddress);\n    var localLastUsedWalletType = localStorage_1.default.getItem(constants_1.localStorageKeys.lastUsedWalletType);\n\n    if (localLastUsedWalletType && localLastUsedWalletType in constants_1.WalletTypes) {\n      lastUsedWalletType = localLastUsedWalletType;\n    }\n\n    var localLastUsedWalletArguments = localStorage_1.default.getItem(constants_1.localStorageKeys.lastUsedWalletArguments);\n\n    if (localLastUsedWalletArguments) {\n      try {\n        lastUsedWalletArguments = JSON.parse(localLastUsedWalletArguments);\n      } catch (e) {\n        lastUsedWalletArguments = [];\n      }\n    }\n  }\n\n  var lastUsedNetwork = constants_1.DEFAULT_NETWORKS.find(function (n) {\n    return n.name === lastUsedNetworkName;\n  });\n  var initialConnector;\n\n  if (lastUsedWalletType && lastUsedNetwork) {\n    try {\n      initialConnector = new ((_a = connectors_1.CONNECTOR_TYPES[lastUsedWalletType]).bind.apply(_a, __spreadArray([void 0, lastUsedNetwork], __read(lastUsedWalletArguments), false)))();\n    } catch (e) {\n      initialConnector = new connectors_1.UnauthenticatedConnector(lastUsedNetwork || defaultNetworkProp);\n    }\n  } else {\n    initialConnector = new connectors_1.UnauthenticatedConnector(lastUsedNetwork || defaultNetworkProp);\n  }\n\n  return {\n    address: lastUsedAddress,\n    network: lastUsedNetwork || null,\n    connector: initialConnector\n  };\n};\n\nexports.loadPreviousConfig = loadPreviousConfig;\n\nfunction clearPreviousConfig() {\n  Object.values(constants_1.localStorageKeys).forEach(function (val) {\n    return localStorage_1.default.removeItem(val);\n  });\n}\n\nexports.clearPreviousConfig = clearPreviousConfig;","map":{"version":3,"sources":["../../src/utils/helpers.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clearPreviousConfig = exports.loadPreviousConfig = void 0;\nvar connectors_1 = require(\"../connectors\");\nvar constants_1 = require(\"../constants\");\nvar localStorage_1 = __importDefault(require(\"./localStorage\"));\nvar loadPreviousConfig = function (defaultNetworkProp) {\n    var _a;\n    var lastUsedNetworkName = defaultNetworkProp.name;\n    var lastUsedAddress = null;\n    var lastUsedWalletType = constants_1.WalletTypes.Unauthenticated;\n    var lastUsedWalletArguments = [];\n    if (typeof localStorage_1.default !== 'undefined') {\n        var localLastUsedNetworkName = localStorage_1.default.getItem(constants_1.localStorageKeys.lastUsedNetwork);\n        if (localLastUsedNetworkName) {\n            lastUsedNetworkName = localLastUsedNetworkName;\n        }\n        lastUsedAddress = localStorage_1.default.getItem(constants_1.localStorageKeys.lastUsedAddress);\n        var localLastUsedWalletType = localStorage_1.default.getItem(constants_1.localStorageKeys.lastUsedWalletType);\n        if (localLastUsedWalletType && localLastUsedWalletType in constants_1.WalletTypes) {\n            lastUsedWalletType = localLastUsedWalletType;\n        }\n        var localLastUsedWalletArguments = localStorage_1.default.getItem(constants_1.localStorageKeys.lastUsedWalletArguments);\n        if (localLastUsedWalletArguments) {\n            try {\n                lastUsedWalletArguments = JSON.parse(localLastUsedWalletArguments);\n            }\n            catch (e) {\n                lastUsedWalletArguments = [];\n            }\n        }\n    }\n    var lastUsedNetwork = constants_1.DEFAULT_NETWORKS.find(function (n) { return n.name === lastUsedNetworkName; });\n    var initialConnector;\n    if (lastUsedWalletType && lastUsedNetwork) {\n        try {\n            initialConnector = new ((_a = connectors_1.CONNECTOR_TYPES[lastUsedWalletType]).bind.apply(_a, __spreadArray([void 0, lastUsedNetwork], __read(lastUsedWalletArguments), false)))();\n        }\n        catch (e) {\n            initialConnector = new connectors_1.UnauthenticatedConnector(lastUsedNetwork || defaultNetworkProp);\n        }\n    }\n    else {\n        initialConnector = new connectors_1.UnauthenticatedConnector(lastUsedNetwork || defaultNetworkProp);\n    }\n    return {\n        address: lastUsedAddress,\n        network: lastUsedNetwork || null,\n        connector: initialConnector,\n    };\n};\nexports.loadPreviousConfig = loadPreviousConfig;\nfunction clearPreviousConfig() {\n    Object.values(constants_1.localStorageKeys).forEach(function (val) {\n        return localStorage_1.default.removeItem(val);\n    });\n}\nexports.clearPreviousConfig = clearPreviousConfig;\n//# sourceMappingURL=helpers.js.map"]},"metadata":{},"sourceType":"script"}